<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>COATL</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <script src='https://cdn.jsdelivr.net/gh/duhaime/minhash@master/minhash.min.js'>
        //check license (MIT) if this is kept
    </script>
    <script>
        /*var punct_whitespace = XRegExp("[(\p{P})|(\p{Z})]+"); //all punctuation and whitespaces, one or multiple times
        var words = XRegExp("[^(\p{P})|(\p{Z})]+");*/
        var left_panel = document.getElementById("left_panel");
        var right_panel = document.getElementById("right_panel");
        function string_to_words(text) { //splits the string into words (includes digits, diacritics and mathematical characters)
            return text.split(/[^\p{Script=Latin}]+/u); //the string is split according to the regular expression
        }
        function jaccard_distance(array1, array2) { //calculates the jaccard distance of two arrays (without taking into account multiple instances in the arrays)
            /*let set1 = new Set(array1);
            let set2 = new Set(array2);
            let intersect = new Set();
            for(var x of set1) if(set2.has(x)) intersect.add(x);
            let union = new Set(set1);
            for (var y of set2) union.add(y);
            return 1.0 - (intersect.length)/(union.length);*/
            var m1 = new Minhash();
            var m2 = new Minhash();
            array1.map(function(w) {m1.update(w)});
            array2.map(function(w) {m2.update(w)});
            return 1 - m1.jaccard(m2);
        }

        /*function minHash1(array1, array2) {

        }

        function minHash100(array1, array2) { //calculates all jaccard distances between two arrays of 100 arrays of words and puts them in a dict
            let result_dict = {};
            for (var i=0;i<100;i++) {
                for (var j=i;j<100;j++) {
                    result_dict[String(i)+","+String(j)] = minHash1(array1[i],array2[i]);
                    result_dict[String(j)+","+String(i)] = result_dict[String(i)+","+String(j)];
                }
            }
            return result_dict
        }*/

        function align(text_array1, text_array2, absolute_x, absolute_y,dict) { //recursive, aligns two text arrays
            if (text_array1.length>9999 && text_array2.length>9999) { //we need to divide even more before comparing words
                let lvl2array1 = new Array(100);
                let lvl2array2 = new Array(100); //the arrays which will host the newly divided arrays
                for (var j=0;j<100;j++) { //the process of homogeneously dividing the arrays
                    let block_size_1 = text_array1.length/100; //the average size of a block
                    let block_size_2 = text_array2.length/100;
                    lvl2array1[j] = text_array1.slice(Math.floor(j*block_size_1),Math.floor((j+1)*block_size_1));
                    lvl2array2[j] = text_array2.slice(Math.floor(j*block_size_2),Math.floor((j+1)*block_size_2));
                }
                //we have two arrays of the text arrays divided into 100 each, we can use them to calculate levenshtein distance as well as the best path
                let matrix = new Array(101); //the matrix for the Levenshtein distance
                for (var i=0;i<101;i++) { //filling the matrix with the basic costs (replaced by the Jaccard distance between the sets)
                    matrix[i] = new Array(101);
                    for (var j=0;j<101;j++) matrix[i][j] = (j==0) ? i : (i==0) ? j : (matrix[j]) ? matrix[j][i] : jaccard_distance(lvl2array1[i-1],lvl2array2[j-1]);
                    console.log("cost : "+matrix[i][j]);
                }
                //we then have the second step (cost propagation)
                for (var i=1;i<101;i++) for (var j=1;j<101;j++) matrix[i][j] = Math.min(matrix[i-1][j]+1, matrix[i][j-1]+1, matrix[i-1][j-1]+matrix[i][j]);
                //we now have the full matrix for both groups of a hundred arrays, we can make out the best path and do the recursion
                //to do the recursion well, we'll send the dict with it on each level, the final level (base case) will be the one actually using it
                let x = 100; //the x and y coordinates to go through the matrix we just made (x for lvl2array2 and y for lvl2array1)
                let y = 100; //we need to lower them by 1 to access the lvl 2 arrays are they're 100 blocks long compared to the 101*101 matrix
                let x_for_align = absolute_x+text_array2.length-lvl2array2[x-1].length; //the absolute x and y coordinates we'll give to the descending align functions
                let y_for_align = absolute_y+text_array1.length-lvl2array1[y-1].length;
                while (x>0 && y>0) { //while we haven't reached the top left corner
                    if (x==1) { //automatic up
                        align(lvl2array1[y-1],lvl2array2[x-1],x_for_align,y_for_align,dict); //we align the block we're on
                        y-=1; //we go up
                        if (y!=0) y_for_align-=lvl2array1[y-1].length; //we shift the absolute coordinates up
                    }
                    else if (y==1) { //automatic left
                        align(lvl2array1[y-1],lvl2array2[x-1],x_for_align,y_for_align,dict); //we align the block we're on
                        x-=1; //we go left
                        if (x!=0) x_for_align-=lvl2array2[x-1].length; //we shift the absolute coordinates left
                    }
                    else {
                        align(lvl2array1[y-1],lvl2array2[x-1],x_for_align,y_for_align,dict); //we align the block we're on
                        if (x==1 && y==1) continue;
                        let left_value = matrix[y][x-1];
                        let top_value = matrix[y-1][x];
                        let diagonal_value = matrix[y-1][x-1];   
                        if (diagonal_value <= top_value) { //diagonal <= top
                            if (diagonal_value <= left_value) { //diagonal <= top && diagonal <= left
                                x-=1;
                                y-=1; //we go in diagonal;
                                x_for_align-=lvl2array2[x-1].length; //we shift the absolute coordinates diagonally
                                y_for_align-=lvl2array1[y-1].length;
                            }
                            //left < diagonal <= top
                            else {
                                x-=1; //we go left
                                x_for_align-=lvl2array2[x-1].length; //we shift the absolute coordinates left
                            }
                        }
                        //top < diagonal
                        else if (left_value <= top_value) { //left <= top < diagonal
                            x-=1; //we go left, same process as before
                            x_for_align-=lvl2array2[x-1].length;
                        }
                        //top < left < diagonal
                        else {
                            y-=1; //we go up
                            y_for_align-=lvl2array1[y-1].length; //we shift the absolute coordinates up
                        }
                    }
                }
            }
            else { //we don't need to or cannot divide the texts more
                for (var i=0;i<text_array1.length;i++) { //filling the dict with the basic costs (0 to 1)
                    //on every y coordinate, we need to use the absolute coordinates to shift the min_max values of the dict on this line
                    dict.min_max[absolute_y+i].min = Math.min(dict.min_max[i].min, absolute_x);
                    dict.min_max[absolute_y+i].max = Math.max(dict.min_max[i].max, absolute_x+text_array2.length-1);
                    for (var j=0;j<text_array2.length;j++) { //only filling the blocks used
                        if (text_array1[i] == text_array2[j]) dict[String(absolute_x+j)+","+String(absolute_y+i)] = 0; //if the words are the same, the cost is 0
                        else dict[String(absolute_x+j)+","+String(absolute_y+i)] = 1; //else the cost is 1 for now
                    }
                }
                //we now have a completed matrix for calculation of Levenshtein distance on a word basis
                //we still need to propagate the costs
                //we then need to make out the best path and then go through it again to display it
                //a .text_part div represents a block that's either :
                //  common to both sides (changed/unchanged), in which case there's a block on the other side with the same id
                //  unique to one of the sides (added/removed), in which case there's no block on the other side with the same id
            }
            //steps of going through the whole text :
                // start out with the bottom right coordinates
                // then, until we reach the top left :
                    // check for existence in the three neighbours
                    // pick the least costly one
                    // save the word & it's state (removed, added, changed/unchanged)
                    // change the coordinates
                // if need be, now is the time to analyse the changed words
                // we can now display the results    
        }

        //possible other way to do it : array of [levenshtein matrix, relative position to previous matrix] in order
        //to make separate code according to the direction of the next array
        //e.g. if next array is left of current array, have the least priority for "up"

        function propagate(dict) { //only to be called in create_dict
            for (var y=0;y<dict.min_max.length;y++) { //for every line of the matrix
                for (var x = dict.min_max[y].min ; x <= dict.min_max[y].max ; x++) { //only in the used blocks
                    //min(cost on the left + 1, cost on the right + 1, cost on the diagonal + current cost)
                    let left = (x==0) ? y+2 : (x==dict.min_max[y].min) ?  Infinity : dict[String(x-1)+","+String(y)]+1;
                    let top  = (y==0) ? x+2 : (x>dict.min_max[y-1].max) ? Infinity : dict[String(x)+","+String(y-1)]+1;
                    let diagonal = (y==0 && x==0) ? (0 + dict[String(x)+","+String(y)]) : (y==0) ? x+1 : (x==0) ? y+1 : (x-1 > dict.min_max[y-1].max || x-1 < dict.min_max[y-1].min) ? Infinity : dict[String(x-1)+","+String(y-1)]+dict[String(x)+","+String(y)];
                    dict[String(x)+","+String(y)] = Math.min(left,top,diagonal);
                }
            }
            return dict;
        }

        function create_dict (text_array1, text_array2) {
            var cost_dict = {};
            cost_dict.min_max = new Array(text_array1.length);
            for (var i=0;i<cost_dict.min_max.length;i++) { //pre-filling the min_max array for an easier later filling
                cost_dict.min_max[i] = {};
                cost_dict.min_max[i].min = Infinity;
                cost_dict.min_max[i].max = -Infinity;
            }
            align(text_array1, text_array2, 0, 0, cost_dict); //splits the texts into words and aligns them
            //now we have the dict with costs between 0 and 1, we need to propagate before returning it
            cost_dict = propagate(cost_dict);
            //we now have the full propagated cost dictionary with min and max values for each line, allowing us to skip past empty blocks
            return cost_dict;
        }

        function make_out_path(dict,text_array1,text_array2) { //returns array of couples (size 2 arrays) of strings
            let result_array = new Array();
            let x = text_array2.length-1;
            let y = text_array1.length-1;
            var previous_direction = 0; //none, 1=up, 2=left, 3=diagonal (binary)
            while (x>=-1 && y>=-1) {
                if (x==-1) { //on the left-most side of the dict
                    if (y==-1) break; //on the top left corner
                    for (var i=y;i>=0;i--) {
                        result_array.push([text_array1[i],null]);
                    }
                    break;
                }
                else if (y==-1) { //on the top of the dict
                    for (var i=x;i>=0;i--) {
                        result_array.push([null,text_array2[i]]);
                    }
                    break;
                }
                let current_key = String(x)+","+String(y); //the four used coordinate keys
                let diagonal_key = String(x-1)+","+String(y-1);
                let left_key = String(x-1)+","+String(y);
                let top_key = String(x)+","+String(y-1);
                let diagonal_value = null;
                let left_value = null;
                let top_value = null;
                if (diagonal_key in dict) {diagonal_value = dict[diagonal_key];}
                if (left_key in dict) {left_value = dict[left_key];}
                if (top_key in dict) {top_value = dict[top_key];}
                if (diagonal_value==null) { //on a border
                    if (x==0 && y==0) {
                        previous_direction = 3;
                        result_array.push([text_array1[y],text_array2[x]]);
                        break;
                    }
                    if (left_value==null) { //we have to go up
                        previous_direction = 1;
                        result_array.push([text_array1[y],null]);
                        y--;
                    }
                    else { //we have to go left
                        previous_direction = 2;
                        result_array.push([null,text_array2[x]]);
                        x--;
                    }
                }
                else { //not on a border, we have to compare the three paths
                    if (diagonal_value < left_value) {
                        if (diagonal_value < top_value) {
                            //we go diagonal
                            previous_direction = 3;
                            result_array.push([text_array1[y],text_array2[x]]);
                            x--;
                            y--;
                            continue;
                        }
                        if (top_value < diagonal_value) {
                            //we go up
                            previous_direction = 1;
                            result_array.push([text_array1[y],null]);
                            y--;
                            continue;
                        }
                        if (previous_direction==1) {
                            //we go up
                            previous_direction = 1;
                            result_array.push([text_array1[y],null]);
                            y--;
                            continue;
                        }
                        //we go diagonal
                        previous_direction = 3;
                        result_array.push([text_array1[y],text_array2[x]]);
                        x--;
                        y--;
                        continue;
                    }
                    //we know left_value <= diagonal_value
                    if (left_value < top_value) {
                        if (left_value < diagonal_value) {
                            //we go left
                            previous_direction = 2;
                            result_array.push([null, text_array2[x]]);
                            x--;
                            continue;
                        }
                        if (previous_direction == 2) {
                            //we go left
                            previous_direction = 2;
                            result_array.push([null, text_array2[x]]);
                            x--;
                            continue;
                        }
                        //we go diagonal
                        previous_direction = 3;
                        result_array.push([text_array1[y],text_array2[x]]);
                        x--;
                        y--;
                        continue;
                    }
                    //we know top_value <= left_value <= diagonal_value
                    if (top_value < diagonal_value) {
                        if (top_value < left_value) {
                            //we go up
                            previous_direction = 1;
                            result_array.push([text_array1[y],null]);
                            y--;
                            continue;
                        }
                        if (previous_direction == 1) {
                            //we go up
                            previous_direction = 1;
                            result_array.push([text_array1[y],null]);
                            y--;
                            continue;
                        }
                        //we go left
                        previous_direction = 2;
                        result_array.push([null, text_array2[x]]);
                        x--;
                        continue;
                    }
                    //we know all three values are equal
                    switch(previous_direction) {
                        case 1: //we went up before
                            //we go up
                            previous_direction = 1;
                            result_array.push([text_array1[y],null]);
                            y--;
                            break;
                        case 2: //we went left before
                            //we go left
                            previous_direction = 2;
                            result_array.push([null, text_array2[x]]);
                            x--;
                            break;
                        case 3: //we went diagonally before
                            //we go diagonally
                            previous_direction = 3;
                            result_array.push([text_array1[y],text_array2[x]]);
                            x--;
                            y--;
                            break;
                        default: //first time
                            if (text_array2[x]==text_array1[y]) {
                                //we go diagonally
                                previous_direction = 3;
                                result_array.push([text_array1[y],text_array2[x]]);
                                x--;
                                y--;
                            }
                            else if (x>=y) {
                                //we go left
                                previous_direction = 2;
                                result_array.push([null, text_array2[x]]);
                                x--;
                            }
                            else {
                                //we go up
                                previous_direction = 1;
                                result_array.push([text_array1[y],null]);
                                y--;
                            }
                    }
                }
            }
            return result_array;
        }

        function bring_text_back(text_array, text1, text2) { //fuses strings of similar nature and adds punctuation
            //put the punctuation of both texts into arrays
            let modified_array = new Array();
            for (var couple of text_array) {
                modified_array.push([...couple]);
            }
            let punct_array_1 = text1.split(/[\p{Script=Latin}]+/u);
            let punct_array_2 = text2.split(/[\p{Script=Latin}]+/u);
            let pt_1 = 1;
            let pt_2 = 1;
            //have a for int loop in modified_array :
            let i = 0;
            while (i>=0) {
                if (i==modified_array.length-1) {
                    let last_punct = new Array(2);
                    if (pt_1<punct_array_1.length) last_punct[0] = punct_array_1[pt_1];
                    if (pt_2<punct_array_2.length) last_punct[1] = punct_array_2[pt_2];
                    if (last_punct[0]!=null || last_punct[1]!=null) modified_array.push(last_punct);
                    break; 
                }
                let current_type = (modified_array[i][0]==null) ? "added" : (modified_array[i][1]==null) ? "removed" : "normal";
                let next_type = (modified_array[i+1][0]==null) ? "added" : (modified_array[i+1][1]==null) ? "removed" : "normal";
                if (current_type == "normal" || current_type == "added") {
                    if (current_type == next_type) {
                        modified_array[i+1][1] = modified_array[i][1].concat(punct_array_2[pt_2],modified_array[i+1][1]);
                        modified_array[i][1] = null;
                    }
                    else {
                        modified_array[i][1] = modified_array[i][1].concat(punct_array_2[pt_2]);
                    }
                    pt_2++;
                }
                if (current_type == "normal" || current_type == "removed") {
                    modified_array[i][0] = modified_array[i][0].concat(punct_array_1[pt_1]);
                    pt_1++;
                    if (current_type == next_type) {
                        modified_array[i+1][0] = modified_array[i][0].concat(modified_array[i+1][0]);
                        modified_array[i][0] = null;
                    }
                }
                i++;
            }
            return modified_array;
        }

        function scroll_to_id(block_id, direction) { //scrolls to a certain block id on both sides
            let left_block = document.getElementById("l_"+block_id);
            let right_block = document.getElementById("r_"+block_id);
            if (left_block!=null && right_block!=null) {
                if (direction=="l") { //clicked on a block on the left
                    document.querySelector("#right_panel").scrollTop = right_block.offsetTop //+ left_block.offsetTop - left_panel.scrollTop;
                }
                else { //clicked on a block on the right
                    document.querySelector("#left_panel").scrollTop = left_block.offsetTop //+ right_block.offsetTop - right_panel.scrollTop;
                }                
            }
        }

        function create_div(text_part, type, id, side, direction) {
            //type, id and side need to already be formated, ex : create_div("example text.", "removed", "l_234", "left_panel")
            let new_div = document.createElement("div");
            new_div.classList.add("text_part");
            if (type!=null) new_div.classList.add(type);
            new_div.id = direction + "_" + String(id);
            new_div.textContent = text_part;
            document.getElementById(side).appendChild(new_div);
            //add sync scrolling thingy

            // !!!!! broken for now

            //new_div.addEventListener("click", scroll_to_id(id,direction));
        }

        function make_divs(text_array) {
            let div_id = 0;
            for (var couple of text_array) {
                if (couple[0] == null && couple[1] == null) continue;
                if (couple[1] == null) {
                    create_div(couple[0],"removed",div_id,"left_panel","l");
                    div_id++;
                    continue;
                }
                if (couple[0] == null) {
                    create_div(couple[1],"added",div_id,"right_panel","r");
                    div_id++;
                    continue;
                }
                create_div(couple[0],null,div_id,"left_panel","l");
                create_div(couple[1],null,div_id,"right_panel","r");
                div_id++;
            }
        }

        function change_to_loading_screen() {
            document.querySelectorAll("textarea").forEach(element => {
                element.style.display = "none";
            });
            document.querySelector("#align_button").style.display = "none";
            let loader = document.querySelector("#loader")
            //loader.style.display = "block";
            var op = 0.1;  // initial opacity
            var timer = setInterval(function () {
                if (op >= 1){
                    clearInterval(timer);
                }
                loader.style.opacity = op;
                loader.style.filter = 'alpha(opacity=' + op * 100 + ")";
                op += op * 0.04;
            }, 10);
        }

        function change_to_result_screen() {
            let loader = document.querySelector("#loader")
            var op = 1;  // initial opacity
            var timer = setInterval(function () {
                if (op <=0.1){
                clearInterval(timer);
            }
            loader.style.opacity = op;
            loader.style.filter = 'alpha(opacity=' + op * 100 + ")";
            op -= op * 0.06;
            }, 10);
            loader.style.display = "none";
            document.querySelectorAll(".panel").forEach(element => {
                element.style.display = "block";
            });
            document.querySelector("#reset_button").style.display = "block";
            document.querySelector("#export_button").style.display = "block";
        }

        document.addEventListener("DOMContentLoaded", function(){
            /*//after the DOM has been loaded
            //we hide the result panels
            document.querySelectorAll(".panel").forEach(element => {element.style.display = "none";});
            //we add the click listener for the align button
            document.querySelector("#align_button").addEventListener("click",function(){ //on click
                //remove visibility of button and interaction with textareas
                change_to_loading_screen();
                setTimeout(function(){
                    let start = Date.now();
                    var left_text = document.querySelector("#left_textarea").value; //scans the left textarea
                    var right_text = document.querySelector("#right_textarea").value; //scans the right textarea
                    var ta1 = string_to_words(left_text);
                    ta1.pop();
                    console.log("length of left text : "+ta1.length+" words");
                    var ta2 = string_to_words(right_text);
                    ta2.pop();
                    console.log("length of right text : "+ta2.length+" words");
                    let dict_time = Date.now();
                    var levenshtein_dict = create_dict(ta1, ta2);
                    console.log("time taken to make the dict : " + (Date.now() - dict_time) + " ms, total time : " + (Date.now() - start) + " ms");
                    //now that we have the dict, we can use make_out_path
                    let path_time = Date.now();
                    var path_ta = make_out_path(levenshtein_dict, ta1, ta2);
                    delete levenshtein_dict;
                    delete ta1;
                    delete ta2;
                    console.log("time taken to make the path : " + (Date.now() - path_time) + " ms, total time : " + (Date.now() - start) + " ms");
                    path_ta.reverse();
                    //then bring_text_back to fuse the groups and add punctuation
                    path_ta = bring_text_back(path_ta, left_text, right_text);
                    delete left_text;
                    delete right_text;
                    //then make divs to create the divs inside of the panels
                    make_divs(path_ta);
                    delete path_ta;
                    //then we have to change page setup
                    change_to_result_screen();
                    console.log("result shown, total time : " + (Date.now() - start) + " ms");
                    //tadaaaaaa
                }, 10);
            });*/
            change_to_loading_screen();
            change_to_result_screen();
        });
    </script>
</head>
<body>
    <header>
        <div id="logo_div">
            <a href="./index.html" id="logo_anchor">
                <img width="286" height="120" src="https://siteigm.univ-mlv.frr/wp-content/uploads/2021/10/LIGM-CMJN-couleurs-300dpi-1.png" alt="Laboratoire d'Informatique Gaspard-Monge UMR 8049" decoding="async">
            </a>
        </div>
        <div id="titlediv">
            <h1>nom de l'outil (à déterminer)</h1>
        </div>
        <div id="links">
            <ul id="links_list">
                <li><a href="https://siteigm.univ-mlv.fr/" target="_blank">Site du LIGM</a></li>
                <li>à propos du site</li>
                <li>english version</li>
            </ul>
        </div>
    </header>
    <div class="box" id="outerbox">
        <div class="box" id="innerbox">
            <textarea autocomplete="off" minlength="1" spellcheck="false" id="left_textarea" placeholder="La première version du texte"></textarea>
            <textarea autocomplete="off" minlength="1" spellcheck="false" id="right_textarea" placeholder="La seconde version du texte"></textarea>
            <div class="panel" id="left_panel" style="display: block;">
<span class="text_part unchanged" id="l_0">Honoré de Balzac

La Comédie humaine
Études de mœurs
Scènes de la vie privée
La Maison du chat-qui-pelote

DÉDIÉ À MADEMOISELLE MARIE DE MONTHEAU

Au milieu de la rue Saint-Denis, presque au coin de la rue du Petit-Lion, existait naguère une de ces maisons précieuses qui donnent aux historiens la facilité de reconstruire par analogie l’ancien Paris. Les murs menaçants de cette bicoque semblaient avoir été bariolés d’hiéroglyphes. Quel autre nom le flâneur pouvait-il donner aux X et aux V que traçaient sur la façade les pièces de bois transversales ou diagonales dessinées dans le badigeon par de petites lézardes parallèles ? Évidemment, au passage de </span><span class="text_part changed" id="l_2">toutes les voitures, </span><span class="text_part unchanged" id="l_3">chacune de ces solives s’agitait dans sa mortaise. Ce vénérable édifice était surmonté d’un toit triangulaire dont aucun modèle ne se verra bientôt plus à Paris. Cette couverture, tordue par les intempéries du climat parisien, s’avançait de trois pieds sur la rue, autant pour garantir des eaux pluviales le seuil de la porte, que pour abriter le mur d’un grenier et sa lucarne sans appui. Ce dernier étage </span><span class="text_part changed" id="l_4">était </span><span class="text_part unchanged" id="l_5">construit en planches clouées l’une sur l’autre comme des ardoises, afin sans doute de ne pas charger cette frêle maison.

Par une matinée pluvieuse, au mois de mars, un jeune homme, soigneusement enveloppé dans son manteau, se tenait sous l’auvent </span><span class="text_part changed" id="l_6">de la </span><span class="text_part unchanged" id="l_7">boutique </span><span class="text_part removed" id="l_8">qui se trouvait </span><span class="text_part unchanged" id="l_9">en face de ce vieux logis, </span><span class="text_part removed" id="l_10">et </span><span class="text_part changed" id="l_11">paraissait l’examiner </span><span class="text_part unchanged" id="l_12">avec un enthousiasme d’archéologue. À la vérité, [p. 34]ce débris de la bourgeoisie du seizième siècle </span><span class="text_part removed" id="l_13">pouvait </span><span class="text_part changed" id="l_14">offrir </span><span class="text_part unchanged" id="l_15">à l’observateur plus d’un problème à résoudre. </span><span class="text_part changed" id="l_16">Chaque étage avait sa </span><span class="text_part unchanged" id="l_17">singularité. </span><span class="text_part changed" id="l_18">Au </span><span class="text_part unchanged" id="l_19">premier, quatre fenêtres longues, étroites, rapprochées l’une de l’autre, avaient des carreaux de bois dans leur partie inférieure, afin de produire ce jour douteux, à la faveur duquel un habile marchand prête aux étoffes la couleur souhaitée par ses chalands. Le jeune homme semblait plein de dédain pour cette partie essentielle de la maison, ses yeux ne s’y étaient pas encore arrêtés. Les fenêtres du second étage, dont les jalousies relevées laissaient voir, au travers de grands carreaux en verre de Bohême, de petits rideaux de mousseline rousse, ne l’intéressaient pas davantage. Son attention se portait particulièrement au troisième, sur d’humbles croisées dont le bois travaillé grossièrement aurait mérité d’être placé au Conservatoire des arts et métiers pour y indiquer les premiers efforts de la menuiserie française. Ces croisées avaient de petites vitres d’une couleur si verte, que, sans son excellente vue, le jeune homme n’aurait pu apercevoir les rideaux de toile à carreaux bleus qui cachaient les mystères de cet appartement aux yeux des profanes. Parfois, cet observateur, ennuyé de sa contemplation sans résultat, ou du silence dans lequel la maison était ensevelie, ainsi que tout le quartier, abaissait ses regards vers les régions inférieures. Un sourire involontaire se dessinait alors sur ses lèvres, quand il revoyait la boutique où se rencontraient en effet des choses assez risibles. Une formidable pièce de bois, horizontalement appuyée sur quatre piliers qui paraissaient courbés par le poids de cette maison décrépite, avait été rechampie d’autant de couches de diverses peintures que la joue d’une vieille duchesse en a reçu de rouge. Au milieu de cette large poutre mignardement sculptée se trouvait un antique tableau représentant un chat qui pelotait. Cette toile causait la gaieté du jeune homme. Mais il faut dire que le plus spirituel des peintres modernes n’inventerait pas de charge si comique. L’animal tenait dans une de ses pattes de devant une raquette aussi grande que lui, et se dressait sur ses pattes de derrière pour mirer une énorme balle que lui renvoyait un gentilhomme en habit brodé. Dessin, couleurs, accessoires, tout était traité de manière à faire croire que l’artiste avait voulu se moquer du marchand et des passants. En altérant cette peinture naïve, le temps l’avait rendue encore plus grotesque par quelques incertitudes qui devaient inquiéter de consciencieux [p. 35]flâneurs. Ainsi la queue mouchetée du chat était découpée de telle sorte qu’on pouvait la prendre pour un spectateur, tant la queue des chats de nos ancêtres était grosse, haute et fournie. À droite du tableau, sur un champ d’azur qui déguisait imparfaitement la pourriture du bois, les passants lisaientGuillaume; et à gauche,successeur du sieur Chevrel. Le soleil et la pluie avaient rongé la plus grande partie de l’or moulu parcimonieusement appliqué sur les lettres de cette inscription, dans laquelle les U remplaçaient les V, et réciproquement, selon les lois de notre ancienne orthographe. Afin de rabattre l’orgueil de ceux qui croient que le monde devient de jour en jour plus spirituel, et que le moderne charlatanisme surpasse tout, il convient de faire observer ici que ces enseignes, dont l’étymologie semble bizarre à plus d’un négociant parisien, sont les tableaux morts de vivants tableaux à l’aide desquels nos espiègles ancêtres avaient réussi à amener les chalands dans leurs maisons. Ainsi la Truie-qui-file, le Singe-vert, etc., furent des animaux en cage dont l’adresse émerveillait les passants, et dont l’éducation prouvait la patience de l’industriel au quinzième siècle. De semblables curiosités enrichissaient plus vite leurs heureux possesseurs que les Providence, les Bonne-foi, les Grâce-de-Dieu et les Décollation de saint Jean-Baptiste qui se voient encore rue Saint-Denis. Cependant l’inconnu ne restait certes pas là pour admirer ce chat, qu’un moment d’attention suffisait à graver dans la mémoire. Ce jeune homme avait aussi ses singularités. Son manteau, plissé dans le goût des draperies antiques, laissait voir une élégante chaussure, d’autant plus remarquable au milieu de la boue parisienne, qu’il portait des bas de soie blancs dont les mouchetures attestaient son impatience. Il sortait sans doute d’une noce ou d’un bal ; car à cette heure matinale il tenait à la main des gants blancs ; et les boucles de ses cheveux noirs défrisés éparpillées sur ses épaules indiquaient une coiffure à la Caracalla, mise à la mode autant par l’École de David que par cet engouement pour les formes grecques et romaines qui marqua les premières années de ce siècle. Malgré le bruit que faisaient quelques maraîchers attardés passant au galop pour se rendre à la grande halle, cette rue si agitée avait alors un calme dont la magie n’est connue que de ceux qui ont erré dans Paris désert, à ces heures où son tapage, un moment apaisé, renaît et s’entend dans le lointain comme la grande voix de la mer. Cet étrange jeune homme devait être aussi curieux pour [p. 36]les commerçants du Chat-qui-pelote, que le Chat-qui-pelote l’était pour lui. Une cravate éblouissante de blancheur rendait sa figure tourmentée encore plus pâle qu’elle ne l’était réellement. Le feu tour à tour sombre et pétillant que jetaient ses yeux noirs s’harmoniait avec les contours bizarres de son visage, avec sa bouche large et sinueuse qui se contractait en souriant. Son front, ridé par une contrariété violente, avait quelque chose de fatal. Le front n’est-il pas ce qui se trouve de plus prophétique en l’homme ? Quand celui de l’inconnu exprimait la passion, les plis qui s’y formaient causaient une sorte d’effroi par la vigueur avec laquelle ils se prononçaient ; mais lorsqu’il reprenait son calme, si facile à troubler, il y respirait une grâce lumineuse qui rendait attrayante cette physionomie où la joie, la douleur, l’amour, la colère, le dédain éclataient d’une manière si communicative que l’homme le plus froid en devait être impressionné. Cet inconnu se dépitait si bien au moment où l’on ouvrit précipitamment la lucarne du grenier, qu’il n’y vit pas apparaître trois joyeuses figures rondelettes, blanches, roses, mais aussi communes que le sont les figures du Commerce sculptées sur certains monuments. Ces trois faces, encadrées par la lucarne, rappelaient les têtes d’anges bouffis semés dans les nuages qui accompagnent le Père éternel. Les apprentis respirèrent les émanations de la rue avec une avidité qui démontrait combien l’atmosphère de leur grenier était chaude et méphitique. Après avoir indiqué ce singulier factionnaire, le commis qui paraissait être le plus jovial disparut et revint en tenant à la main un instrument dont le métal inflexible a été récemment remplacé par un cuir souple ; puis tous prirent une expression malicieuse en regardant le badaud qu’ils aspergèrent d’une pluie fine et blanchâtre dont le parfum prouvait que les trois mentons venaient d’être rasés. Élevés sur la pointe de leurs pieds, et réfugiés au fond de leur grenier pour jouir de la colère de leur victime, les commis cessèrent de rire en voyant l’insouciant dédain avec lequel le jeune homme secoua son manteau, et le profond mépris que peignit sa figure quand il leva les yeux sur la lucarne vide. En ce moment, une main blanche et délicate fit remonter vers l’imposte la partie inférieure d’une des grossières croisées du troisième étage, au moyen de ces coulisses dont le tourniquet laisse souvent tomber à l’improviste le lourd vitrage qu’il doit retenir. Le passant fut alors récompensé de sa longue attente. La figure d’une jeune fille, fraîche comme un de ces blancs calices qui [p. 37]fleurissent au sein des eaux, se montra couronnée d’une ruche en mousseline froissée qui donnait à sa tête un air d’innocence admirable. Quoique couverts d’une étoffe brune, son cou, ses épaules s’apercevaient, grâce à de légers interstices ménagés par les mouvements du sommeil. Aucune expression de contrainte n’altérait ni l’ingénuité de ce visage, ni le calme de ces yeux immortalisés par avance dans les sublimes compositions de Raphaël : c’était la même grâce, la même tranquillité de ces vierges devenues proverbiales. Il existait un charmant contraste produit par la jeunesse des joues de cette figure, sur laquelle le sommeil avait comme mis en relief une surabondance de vie, et par la vieillesse de cette fenêtre massive aux contours grossiers, dont l’appui était noir. Semblable à ces fleurs de jour qui n’ont pas encore au matin déplié leur tunique roulée par le froid des nuits, la jeune fille, à peine éveillée, laissa errer ses yeux bleus sur les toits voisins et regarda le ciel ; puis, par une sorte d’habitude, elle les baissa sur les sombres régions de la rue, où ils rencontrèrent aussitôt ceux de son adorateur. </span><span class="text_part changed" id="l_20">La </span><span class="text_part unchanged" id="l_21">coquetterie la fit sans doute souffrir d’être vue en déshabillé, elle se retira vivement en arrière, le tourniquet tout usé tourna, la croisée redescendit avec cette rapidité qui, de nos jours, a valu un nom odieux à cette naïve invention de nos ancêtres, et la vision disparut. </span><span class="text_part removed" id="l_22">Il semblait </span><span class="text_part changed" id="l_23">à </span><span class="text_part unchanged" id="l_24">ce jeune homme </span><span class="text_part removed" id="l_25">que </span><span class="text_part unchanged" id="l_26">la plus brillante des étoiles du matin </span><span class="text_part changed" id="l_28">avait </span><span class="text_part unchanged" id="l_29">été soudain cachée par un nuage.

Pendant ces petits événements, les lourds volets intérieurs qui défendaient le léger vitrage de la boutique du Chat-qui-pelote avaient été enlevés comme par magie. La vieille porte à heurtoir fut repliée sur le mur intérieur de la maison par un serviteur vraisemblablement contemporain de l’enseigne, qui d’une main tremblante y attacha le morceau de drap carré sur lequel était brodé en soie jaune le nom deGuillaume, successeur de Chevrel. Il eût été difficile à plus d’un passant de deviner le genre de commerce de monsieur Guillaume. À travers les gros barreaux de fer qui protégeaient extérieurement sa boutique, à peine y apercevait-on des paquets enveloppés de toile brune aussi nombreux que des harengs quand ils traversent l’Océan. Malgré l’apparente simplicité de cette gothique façade, monsieur Guillaume était, de tous les marchands drapiers de Paris, celui dont les magasins se trouvaient toujours le mieux fournis, dont les relations avaient le plus d’étendue, et dont la probité commerciale </span><span class="text_part changed" id="l_31">était la plus exacte. </span><span class="text_part unchanged" id="l_32">Si quelques-uns de ses [p. 38]confrères </span><span class="text_part removed" id="l_33">avaient </span><span class="text_part changed" id="l_34">conclu </span><span class="text_part unchanged" id="l_35">des marchés avec le gouvernement, sans avoir la quantité de drap voulue, il était toujours prêt à la leur livrer, quelque considérable que fût le nombre de pièces soumissionnées. Le rusé négociant connaissait mille manières de s’attribuer le plus fort bénéfice sans se trouver obligé, comme eux, de courir chez des protecteurs, y faire des bassesses ou de riches présents. Si les confrères ne pouvaient le payer qu’en excellentes traites un peu longues, il indiquait son notaire comme un homme accommodant ; et savait encore tirer une seconde mouture du sac, grâce à cet expédient qui faisait dire proverbialement aux négociants de la rue Saint-Denis : – Dieu vous garde du notaire de monsieur Guillaume ! pour désigner un escompte onéreux. Le vieux négociant se trouva debout comme par miracle, sur le seuil de sa boutique, au moment où le domestique se retira. Monsieur Guillaume regarda la rue Saint-Denis, les boutiques voisines et le temps, comme un homme qui débarque au Havre et revoit la France après un long voyage. Bien convaincu que rien n’avait changé pendant son sommeil, il aperçut alors le passant en faction, qui, de son côté, contemplait le patriarche de la draperie, comme Humboldt dut examiner le premier gymnote électrique qu’il vit en Amérique. Monsieur Guillaume portait de larges culottes de velours noir, des bas chinés, et des souliers carrés à boucles d’argent. Son habit à pans carrés, à basques carrées, à collet carré, enveloppait son corps, légèrement voûté, d’un drap verdâtre garni de grands boutons en métal blanc mais rougis par l’usage. Ses cheveux gris étaient si exactement aplatis et peignés sur son crâne jaune, qu’ils le faisaient ressembler à un champ sillonné. Ses petits yeux verts, percés comme avec une vrille, flamboyaient sous deux arcs marqués d’une faible rougeur à défaut de sourcils. Les inquiétudes avaient tracé sur son front des rides horizontales aussi nombreuses que les plis de son habit. Cette figure blême annonçait la patience, la sagesse commerciale, et l’espèce de cupidité rusée que réclament les affaires. [p. ill.]À cette époque on voyait moins rarement qu’aujourd’hui de ces vieilles familles où se conservaient, comme de précieuses traditions, les mœurs, les costumes caractéristiques de leurs professions, et restées au milieu de la civilisation nouvelle comme ces débris antédiluviens retrouvés par Cuvier dans les carrières. Le chef de la famille Guillaume était un de ces notables gardiens des anciens usages : on le surprenait à [p. 39]regretter le Prévôt des Marchands, et jamais il ne parlait d’un jugement du tribunal de commerce sans le nommer lasentence des consuls. </span><span class="text_part removed" id="l_36">C’</span><span class="text_part changed" id="l_37">était </span><span class="text_part unchanged" id="l_38">sans doute en vertu de ces coutumes </span><span class="text_part removed" id="l_39">que, levé </span><span class="text_part unchanged" id="l_40">le premier de sa maison, il attendait de pied ferme l’arrivée de ses trois commis, pour les gourmander en cas de retard. Ces jeunes disciples de Mercure ne connaissaient rien de plus redoutable que l’activité silencieuse avec laquelle le patron scrutait leurs visages et leurs mouvements, le lundi matin, en y recherchant les preuves ou les traces de leurs escapades. Mais, en ce moment, le vieux drapier ne fit aucune attention à ses apprentis. </span><span class="text_part changed" id="l_41">Il </span><span class="text_part unchanged" id="l_42">était occupé à chercher le motif de la sollicitude avec laquelle le jeune homme en bas de soie et en manteau portait alternativement les yeux sur son enseigne et sur les profondeurs de son magasin. Le jour, devenu plus éclatant, permettait d’y apercevoir le bureau grillagé, entouré de rideaux en vieille soie verte, où se tenaient les livres immenses, oracles muets de la maison. Le trop curieux étranger semblait convoiter ce petit local, y prendre le plan d’une salle à manger latérale, éclairée par un vitrage pratiqué dans le plafond, et d’où la famille réunie devait facilement voir, pendant ses repas, les plus légers accidents qui pouvaient arriver sur le seuil de la boutique. Un si grand amour pour son logis paraissait suspect à un négociant qui avait subi le régime </span><span class="text_part removed" id="l_43">de </span><span class="text_part changed" id="l_44">la Terreur </span><span class="text_part unchanged" id="l_45">Monsieur Guillaume pensait donc assez naturellement que cette figure sinistre en voulait à la caisse du Chat-qui-pelote. Après avoir discrètement joui du duel muet qui avait lieu entre son patron et l’inconnu, le plus âgé des commis hasarda de se placer sur la dalle où était monsieur Guillaume, en voyant le jeune homme contempler à la dérobée les croisées du troisième. Il fit deux pas dans la rue, leva la tête, et crut avoir aperçu mademoiselle Augustine Guillaume qui se retirait avec précipitation. Mécontent de la perspicacité de son premier commis, le drapier lui lança un regard de travers ; mais tout à coup les craintes mutuelles que la présence de ce passant excitait dans l’âme du marchand et de l’amoureux commis se calmèrent. L’inconnu hêla un fiacre qui se rendait à une place voisine, et y monta rapidement en affectant une trompeuse indifférence. Ce départ mit un certain baume dans le cœur des autres commis, assez inquiets de retrouver la victime de leur plaisanterie.</span><span class="text_part punct" id="l_46"></span>
            </div>
            <div class="panel" id="right_panel" style="display: block;">
<span class="text_part unchanged" id="r_0">Honoré de Balzac

La Comédie humaine
Études de mœurs
Scènes de la vie privée
La Maison du chat-qui-pelote

DÉDIÉ À MADEMOISELLE MARIE DE MONTHEAU

Au milieu de la rue Saint-Denis, presque au coin de la rue du Petit-Lion, existait naguère une de ces maisons précieuses qui donnent aux historiens la facilité de reconstruire par analogie l’ancien Paris. Les murs menaçants de cette bicoque semblaient avoir été bariolés d’hiéroglyphes. Quel autre nom le flâneur pouvait-il donner aux X et aux V que traçaient sur la façade les pièces de bois transversales ou diagonales dessinées dans le badigeon par de petites lézardes parallèles ? Évidemment, au passage de </span><span class="text_part added" id="r_1">la </span><span class="text_part changed" id="r_2">plus légère voiture, </span><span class="text_part unchanged" id="r_3">chacune de ces solives s’agitait dans sa mortaise. Ce vénérable édifice était surmonté d’un toit triangulaire dont aucun modèle ne se verra bientôt plus à Paris. Cette couverture, tordue par les intempéries du climat parisien, s’avançait de trois pieds sur la rue, autant pour garantir des eaux pluviales le seuil de la porte, que pour abriter le mur d’un grenier et sa lucarne sans appui. Ce dernier étage </span><span class="text_part changed" id="r_4">fut </span><span class="text_part unchanged" id="r_5">construit en planches clouées l’une sur l’autre comme des ardoises, afin sans doute de ne pas charger cette frêle maison.

Par une matinée pluvieuse, au mois de mars, un jeune homme, soigneusement enveloppé dans son manteau, se tenait sous l’auvent </span><span class="text_part changed" id="r_6">d’une </span><span class="text_part unchanged" id="r_7">boutique </span><span class="text_part unchanged" id="r_9">en face de ce vieux logis, </span><span class="text_part changed" id="r_11">qu’il examinait </span><span class="text_part unchanged" id="r_12">avec un enthousiasme d’archéologue. À la vérité, [p. 34]ce débris de la bourgeoisie du seizième siècle </span><span class="text_part changed" id="r_14">offrait </span><span class="text_part unchanged" id="r_15">à l’observateur plus d’un problème à résoudre. </span><span class="text_part changed" id="r_16">À chaque étage, une </span><span class="text_part unchanged" id="r_17">singularité : </span><span class="text_part changed" id="r_18">au </span><span class="text_part unchanged" id="r_19">premier, quatre fenêtres longues, étroites, rapprochées l’une de l’autre, avaient des carreaux de bois dans leur partie inférieure, afin de produire ce jour douteux, à la faveur duquel un habile marchand prête aux étoffes la couleur souhaitée par ses chalands. Le jeune homme semblait plein de dédain pour cette partie essentielle de la maison, ses yeux ne s’y étaient pas encore arrêtés. Les fenêtres du second étage, dont les jalousies relevées laissaient voir, au travers de grands carreaux en verre de Bohême, de petits rideaux de mousseline rousse, ne l’intéressaient pas davantage. Son attention se portait particulièrement au troisième, sur d’humbles croisées dont le bois travaillé grossièrement aurait mérité d’être placé au Conservatoire des arts et métiers pour y indiquer les premiers efforts de la menuiserie française. Ces croisées avaient de petites vitres d’une couleur si verte, que, sans son excellente vue, le jeune homme n’aurait pu apercevoir les rideaux de toile à carreaux bleus qui cachaient les mystères de cet appartement aux yeux des profanes. Parfois, cet observateur, ennuyé de sa contemplation sans résultat, ou du silence dans lequel la maison était ensevelie, ainsi que tout le quartier, abaissait ses regards vers les régions inférieures. Un sourire involontaire se dessinait alors sur ses lèvres, quand il revoyait la boutique où se rencontraient en effet des choses assez risibles. Une formidable pièce de bois, horizontalement appuyée sur quatre piliers qui paraissaient courbés par le poids de cette maison décrépite, avait été rechampie d’autant de couches de diverses peintures que la joue d’une vieille duchesse en a reçu de rouge. Au milieu de cette large poutre mignardement sculptée se trouvait un antique tableau représentant un chat qui pelotait. Cette toile causait la gaieté du jeune homme. Mais il faut dire que le plus spirituel des peintres modernes n’inventerait pas de charge si comique. L’animal tenait dans une de ses pattes de devant une raquette aussi grande que lui, et se dressait sur ses pattes de derrière pour mirer une énorme balle que lui renvoyait un gentilhomme en habit brodé. Dessin, couleurs, accessoires, tout était traité de manière à faire croire que l’artiste avait voulu se moquer du marchand et des passants. En altérant cette peinture naïve, le temps l’avait rendue encore plus grotesque par quelques incertitudes qui devaient inquiéter de consciencieux [p. 35]flâneurs. Ainsi la queue mouchetée du chat était découpée de telle sorte qu’on pouvait la prendre pour un spectateur, tant la queue des chats de nos ancêtres était grosse, haute et fournie. À droite du tableau, sur un champ d’azur qui déguisait imparfaitement la pourriture du bois, les passants lisaientGuillaume; et à gauche,successeur du sieur Chevrel. Le soleil et la pluie avaient rongé la plus grande partie de l’or moulu parcimonieusement appliqué sur les lettres de cette inscription, dans laquelle les U remplaçaient les V et réciproquement, selon les lois de notre ancienne orthographe. Afin de rabattre l’orgueil de ceux qui croient que le monde devient de jour en jour plus spirituel, et que le moderne charlatanisme surpasse tout, il convient de faire observer ici que ces enseignes, dont l’étymologie semble bizarre à plus d’un négociant parisien, sont les tableaux morts de vivants tableaux à l’aide desquels nos espiègles ancêtres avaient réussi à amener les chalands dans leurs maisons. Ainsi la Truie-qui-file, le Singe-vert, etc., furent des animaux en cage dont l’adresse émerveillait les passants, et dont l’éducation prouvait la patience de l’industriel au quinzième siècle. De semblables curiosités enrichissaient plus vite leurs heureux possesseurs que les Providence, les Bonne-foi, les Grâce-de-Dieu et les Décollation de saint Jean-Baptiste qui se voient encore rue Saint-Denis. Cependant l’inconnu ne restait certes pas là pour admirer ce chat, qu’un moment d’attention suffisait à graver dans la mémoire. Ce jeune homme avait aussi ses singularités. Son manteau, plissé dans le goût des draperies antiques, laissait voir une élégante chaussure, d’autant plus remarquable au milieu de la boue parisienne, qu’il portait des bas de soie blancs dont les mouchetures attestaient son impatience. Il sortait sans doute d’une noce ou d’un bal, car à cette heure matinale il tenait à la main des gants blancs, et les boucles de ses cheveux noirs défrisés éparpillées sur ses épaules indiquaient une coiffure à la Caracalla, mise à la mode autant par l’École de David que par cet engouement pour les formes grecques et romaines qui marqua les premières années de ce siècle. Malgré le bruit que faisaient quelques maraîchers attardés passant au galop pour se rendre à la grande halle, cette rue si agitée avait alors un calme dont la magie n’est connue que de ceux qui ont erré dans Paris désert, à ces heures où son tapage, un moment apaisé, renaît et s’entend dans le lointain comme la grande voix de la mer. Cet étrange jeune homme devait être aussi curieux pour [p. 36]les commerçants du Chat-qui-pelote, que le Chat-qui-pelote l’était pour lui. Une cravate éblouissante de blancheur rendait sa figure tourmentée encore plus pâle qu’elle ne l’était réellement. Le feu tour à tour sombre et pétillant que jetaient ses yeux noirs s’harmoniait avec les contours bizarres de son visage, avec sa bouche large et sinueuse qui se contractait en souriant. Son front, ridé par une contrariété violente, avait quelque chose de fatal. Le front n’est-il pas ce qui se trouve de plus prophétique en l’homme ? Quand celui de l’inconnu exprimait la passion, les plis qui s’y formaient causaient une sorte d’effroi par la vigueur avec laquelle ils se prononçaient ; mais lorsqu’il reprenait son calme, si facile à troubler, il y respirait une grâce lumineuse qui rendait attrayante cette physionomie où la joie, la douleur, l’amour, la colère, le dédain éclataient d’une manière si communicative que l’homme le plus froid en devait être impressionné. Cet inconnu se dépitait si bien au moment où l’on ouvrit précipitamment la lucarne du grenier, qu’il n’y vit pas apparaître trois joyeuses figures rondelettes, blanches, roses, mais aussi communes que le sont les figures du Commerce sculptées sur certains monuments. Ces trois faces, encadrées par la lucarne, rappelaient les têtes d’anges bouffis semés dans les nuages qui accompagnent le Père éternel. Les apprentis respirèrent les émanations de la rue avec une avidité qui démontrait combien l’atmosphère de leur grenier était chaude et méphitique. Après avoir indiqué ce singulier factionnaire, le commis qui paraissait être le plus jovial disparut et revint en tenant à la main un instrument dont le métal inflexible a été récemment remplacé par un cuir souple ; puis tous prirent une expression malicieuse en regardant le badaud qu’ils aspergèrent d’une pluie fine et blanchâtre dont le parfum prouvait que les trois mentons venaient d’être rasés. Élevés sur la pointe de leurs pieds, et réfugiés au fond de leur grenier pour jouir de la colère de leur victime, les commis cessèrent de rire en voyant l’insouciant dédain avec lequel le jeune homme secoua son manteau, et le profond mépris que peignit sa figure quand il leva les yeux sur la lucarne vide. En ce moment, une main blanche et délicate fit remonter vers l’imposte la partie inférieure d’une des grossières croisées du troisième étage, au moyen de ces coulisses dont le tourniquet laisse souvent tomber à l’improviste le lourd vitrage qu’il doit retenir. Le passant fut alors récompensé de sa longue attente. La figure d’une jeune fille, fraîche comme un de ces blancs calices qui [p. 37]fleurissent au sein des eaux, se montra couronnée d’une ruche en mousseline froissée qui donnait à sa tête un air d’innocence admirable. Quoique couverts d’une étoffe brune, son cou, ses épaules s’apercevaient, grâce à de légers interstices ménagés par les mouvements du sommeil. Aucune expression de contrainte n’altérait ni l’ingénuité de ce visage, ni le calme de ces yeux immortalisés par avance dans les sublimes compositions de Raphaël : c’était la même grâce, la même tranquillité de ces vierges devenues proverbiales. Il existait un charmant contraste produit par la jeunesse des joues de cette figure, sur laquelle le sommeil avait comme mis en relief une surabondance de vie, et par la vieillesse de cette fenêtre massive aux contours grossiers, dont l’appui était noir. Semblable à ces fleurs de jour qui n’ont pas encore au matin déplié leur tunique roulée par le froid des nuits, la jeune fille, à peine éveillée, laissa errer ses yeux bleus sur les toits voisins et regarda le ciel ; puis, par une sorte d’habitude, elle les baissa sur les sombres régions de la rue, où ils rencontrèrent aussitôt ceux de son adorateur : </span><span class="text_part changed" id="r_20">la </span><span class="text_part unchanged" id="r_21">coquetterie la fit sans doute souffrir d’être vue en déshabillé, elle se retira vivement en arrière, le tourniquet tout usé tourna, la croisée redescendit avec cette rapidité qui, de nos jours, a valu un nom odieux à cette naïve invention de nos ancêtres, et la vision disparut. </span><span class="text_part changed" id="r_23">Pour </span><span class="text_part unchanged" id="r_24">ce jeune homme, </span><span class="text_part unchanged" id="r_26">la plus brillante des étoiles du matin </span><span class="text_part added" id="r_27">semblait </span><span class="text_part changed" id="r_28">avoir </span><span class="text_part unchanged" id="r_29">été soudain cachée par un nuage.

Pendant ces petits événements, les lourds volets intérieurs qui défendaient le léger vitrage de la boutique du Chat-qui-pelote avaient été enlevés comme par magie. La vieille porte à heurtoir fut repliée sur le mur intérieur de la maison par un serviteur vraisemblablement contemporain de l’enseigne, qui d’une main tremblante y attacha le morceau de drap carré sur lequel était brodé en soie jaune le nom deGuillaume, successeur de Chevrel. Il eût été difficile à plus d’un passant de deviner le genre de commerce de monsieur Guillaume. À travers les gros barreaux de fer qui protégeaient extérieurement sa boutique, à peine y apercevait-on des paquets enveloppés de toile brune aussi nombreux que des harengs quand ils traversent l’Océan. Malgré l’apparente simplicité de cette gothique façade, monsieur Guillaume était de tous les marchands drapiers de Paris celui dont les magasins se trouvaient toujours le mieux fournis, dont les relations avaient le plus d’étendue, et dont la probité commerciale </span><span class="text_part added" id="r_30">ne souffrait </span><span class="text_part changed" id="r_31">pas le moindre soupçon. </span><span class="text_part unchanged" id="r_32">Si quelques-uns de ses [p. 38]confrères </span><span class="text_part changed" id="r_34">concluaient </span><span class="text_part unchanged" id="r_35">des marchés avec le gouvernement, sans avoir la quantité de drap voulue, il était toujours prêt à la leur livrer, quelque considérable que fût le nombre de pièces soumissionnées. Le rusé négociant connaissait mille manières de s’attribuer le plus fort bénéfice sans se trouver obligé, comme eux, de courir chez des protecteurs, y faire des bassesses ou de riches présents. Si les confrères ne pouvaient le payer qu’en excellentes traites un peu longues, il indiquait son notaire comme un homme accommodant ; et savait encore tirer une seconde mouture du sac, grâce à cet expédient qui faisait dire proverbialement aux négociants de la rue Saint-Denis : – Dieu vous garde du notaire de monsieur Guillaume ! pour désigner un escompte onéreux. Le vieux négociant se trouva debout comme par miracle, sur le seuil de sa boutique, au moment où le domestique se retira. Monsieur Guillaume regarda la rue Saint-Denis, les boutiques voisines et le temps, comme un homme qui débarque au Havre et revoit la France après un long voyage. Bien convaincu que rien n’avait changé pendant son sommeil, il aperçut alors le passant en faction qui de son côté contemplait le patriarche de la draperie, comme Humboldt dut examiner le premier gymnote électrique qu’il vit en Amérique. Monsieur Guillaume portait de larges culottes de velours noir, des bas chinés, et des souliers carrés à boucles d’argent. Son habit à pans carrés, à basques carrées, à collet carré, enveloppait son corps légèrement voûté d’un drap verdâtre garni de grands boutons en métal blanc mais rougis par l’usage. Ses cheveux gris étaient si exactement aplatis et peignés sur son crâne jaune, qu’ils le faisaient ressembler à un champ sillonné. Ses petits yeux verts, percés comme avec une vrille, flamboyaient sous deux arcs marqués d’une faible rougeur à défaut de sourcils. Les inquiétudes avaient tracé sur son front des rides horizontales aussi nombreuses que les plis de son habit. Cette figure blême annonçait la patience, la sagesse commerciale, et l’espèce de cupidité rusée que réclament les affaires. [p. ill.]À cette époque on voyait moins rarement qu’aujourd’hui de ces vieilles familles où se conservaient, comme de précieuses traditions, les mœurs, les costumes caractéristiques de leurs professions, et restées au milieu de la civilisation nouvelle comme ces débris antédiluviens retrouvés par Cuvier dans les carrières. Le chef de la famille Guillaume était un de ces notables gardiens des anciens usages : on le surprenait à [p. 39]regretter le Prévôt des Marchands, et jamais il ne parlait d’un jugement du tribunal de commerce sans le nommer lasentence des consuls. </span><span class="text_part changed" id="r_37">Levé </span><span class="text_part unchanged" id="r_38">sans doute en vertu de ces coutumes, </span><span class="text_part unchanged" id="r_40">le premier de sa maison il attendait de pied ferme l’arrivée de ses trois commis, pour les gourmander en cas de retard. Ces jeunes disciples de Mercure ne connaissaient rien de plus redoutable que l’activité silencieuse avec laquelle le patron scrutait leurs visages et leurs mouvements, le lundi matin, en y recherchant les preuves ou les traces de leurs escapades. Mais, en ce moment, le vieux drapier ne fit aucune attention à ses apprentis, </span><span class="text_part changed" id="r_41">il </span><span class="text_part unchanged" id="r_42">était occupé à chercher le motif de la sollicitude avec laquelle le jeune homme en bas de soie et en manteau portait alternativement les yeux sur son enseigne et sur les profondeurs de son magasin. Le jour, devenu plus éclatant, permettait d’y apercevoir le bureau grillagé, entouré de rideaux en vieille soie verte, où se tenaient les livres immenses, oracles muets de la maison. Le trop curieux étranger semblait convoiter ce petit local, y prendre le plan d’une salle à manger latérale, éclairée par un vitrage pratiqué dans le plafond, et d’où la famille réunie devait facilement voir, pendant ses repas, les plus légers accidents qui pouvaient arriver sur le seuil de la boutique. Un si grand amour pour son logis paraissait suspect à un négociant qui avait subi le régime </span><span class="text_part changed" id="r_44">du Maximum </span><span class="text_part unchanged" id="r_45">Monsieur Guillaume pensait donc assez naturellement que cette figure sinistre en voulait à la caisse du Chat-qui-pelote. Après avoir discrètement joui du duel muet qui avait lieu entre son patron et l’inconnu, le plus âgé des commis hasarda de se placer sur la dalle où était monsieur Guillaume, en voyant le jeune homme contempler à la dérobée les croisées du troisième. Il fit deux pas dans la rue, leva la tête, et crut avoir aperçu mademoiselle Augustine Guillaume qui se retirait avec précipitation. Mécontent de la perspicacité de son premier commis, le drapier lui lança un regard de travers ; mais tout à coup les craintes mutuelles que la présence de ce passant excitait dans l’âme du marchand et de l’amoureux commis se calmèrent. L’inconnu hêla un fiacre qui se rendait à une place voisine, et y monta rapidement en affectant une trompeuse indifférence. Ce départ mit un certain baume dans le cœur des autres commis, assez inquiets de retrouver la victime de leur plaisanterie.</span><span class="text_part punct" id="r_46"></span>
            </div>
        </div>
        <div class="box" id="button_box">
            <button id="align_button"  type="button">Align</button>
            <button id="reset_button"  type="button">Reset</button>
            <button id="export_button" type="button">Export</button>
        </div>
    </div>
    <footer>(nom de l'outil) (contact: insérer mailto:)
    </footer>
    <img width="150" height="149" src="./logoIGM-300x298.png" id="loader">
</body>
</html>